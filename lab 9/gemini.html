<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Gemini API – Demo</title>

<style>
    body { font-family: Arial; }
    #odp {
        margin-top: 20px;
        padding: 10px;
        background: #f0f0f0;
        border-radius: 5px;
        white-space: pre-wrap;
    }
</style>

<script>
async function wyslijPrompt() {
    const prompt = document.getElementById("prompt").value;
    const output = document.getElementById("odp");

    output.textContent = "Ładowanie...";

    const apiKey = "gen-lang-client-0607180866"; // <<< KLUCZ API

    try {
        const response = await fetch(
            "https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=" + apiKey,
            {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: prompt
                        }]
                    }]
                })
            }
        );

        const dane = await response.json();

        // Odczyt odpowiedzi
        const tekst = dane.candidates?.[0]?.content?.parts?.[0]?.text || 
                      "Brak odpowiedzi od Gemini.";

        output.textContent = tekst;

    } catch (err) {
        output.textContent = "Błąd: " + err;
    }
}
</script>
</head>

<body>

<h2>Gemini API – odpowiedź na prompt</h2>

<textarea id="prompt" rows="4" cols="50" placeholder="Wpisz prompt..."></textarea>
<br><br>

<button onclick="wyslijPrompt()">Wyślij</button>

<div id="odp"></div>

</body>
</html>
